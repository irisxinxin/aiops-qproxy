{"title": "CPU 告警处理", "keys": ["cat:cpu", "sev:*", "svc:omada-*"], "priority": "HIGH", "prechecks": ["使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)", "使用 awslabseks_mcp_server 检查 Pod 状态和资源限制"], "actions": ["1. 扩容 Pod 数量", "2. 增加 CPU 资源限制", "3. 检查是否有异常进程"], "grafana": [], "notes": "CPU 使用率过高时的处理步骤", "refs": []}
{"title": "延迟告警处理", "keys": ["cat:latency", "sev:*", "svc:omada-*"], "priority": "HIGH", "prechecks": ["使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)", "使用 elasticsearch_mcp_server 查询错误日志: GET /{{service名}}-*/_search?q=\"error\" AND @timestamp:[alert_time TO now] AND path:\"{{alert_path}}\"", "分析单路径延迟激增: {{alert_path}}"], "actions": ["1. 分析特定路径延迟模式", "2. 检查错误日志", "3. 扩容服务实例", "4. 优化业务逻辑"], "grafana": [], "notes": "延迟告警处理，重点关注单路径", "refs": []}
{"title": "内存告警处理", "keys": ["cat:memory", "sev:*", "svc:omada-*"], "priority": "HIGH", "prechecks": ["使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)", "使用 awslabseks_mcp_server 检查 GC 情况和内存泄漏"], "actions": ["1. 重启 Pod", "2. 增加内存限制", "3. 检查内存泄漏"], "grafana": [], "notes": "内存使用率过高时的处理步骤", "refs": []}
{"title": "网络连接告警", "keys": ["cat:network", "sev:*", "svc:omada-*"], "priority": "HIGH", "prechecks": ["使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)", "使用 awslabseks_mcp_server 检查设备连接数和网络状态"], "actions": ["1. 检查网络配置", "2. 重启网络服务", "3. 扩容网络资源"], "grafana": [], "notes": "网络连接异常时的处理步骤", "refs": []}
{"title": "错误告警处理", "keys": ["cat:error", "sev:*", "svc:omada-*"], "priority": "HIGH", "prechecks": ["使用 elasticsearch_mcp_server 查询对应时间段错误日志: GET /{{service_name}}-*/_search?q=\"error\" AND @timestamp:[{{alert_start_time}} TO {{alert_end_time}}]"], "actions": ["1. 分析错误日志模式", "2. 重启异常 Pod", "3. 检查应用配置", "4. 监控错误趋势"], "grafana": [], "notes": "应用错误告警处理，重点进行错误日志分析", "refs": []}
{"title": "Elasticsearch 错误", "keys": ["cat:elasticsearch", "sev:*", "svc:omada-*"], "priority": "HIGH", "prechecks": ["使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)", "使用 elasticsearch_mcp_server 直接检查 ES 集群状态和索引健康度"], "actions": ["1. 重启 ES 服务", "2. 检查索引配置", "3. 扩容 ES 集群"], "grafana": [], "notes": "Elasticsearch 异常时的处理步骤", "refs": []}
{"title": "登录限流处理", "keys": ["cat:login_rate_limit", "sev:*", "svc:omada-iam"], "priority": "MIDDLE", "prechecks": ["使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)", "使用 alertmanager MCP 检查登录限流配置"], "actions": ["1. 调整限流阈值", "2. 检查异常 IP", "3. 临时解除限制"], "grafana": [], "notes": "登录限流告警的处理步骤", "refs": []}
{"title": "认证错误处理", "keys": ["cat:auth", "sev:*", "svc:omada-iam"], "priority": "HIGH", "prechecks": ["使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)", "使用 elasticsearch_mcp_server 查询认证日志: GET /{{service_name}}-*/_search?q=\"error\" AND @timestamp:[{{alert_start_time}} TO {{alert_end_time}}]"], "actions": ["1. 重启认证服务", "2. 检查证书状态", "3. 验证用户权限"], "grafana": [], "notes": "认证失败时的处理步骤", "refs": []}
{"title": "CloudWatch 指标检查", "keys": ["cat:*", "sev:*", "svc:omada-*"], "priority": "MIDDLE", "prechecks": ["使用 awslabscloudwatch_mcp_server 查看 AWS 资源指标", "使用 victoriametrics MCP 查询: {{expression}} (告警自带表达式)"], "actions": ["1. 对比 CloudWatch 和 K8s 指标", "2. 检查 AWS 资源健康状况", "3. 分析跨云指标差异"], "grafana": [], "notes": "CloudWatch 指标监控和对比", "refs": []}